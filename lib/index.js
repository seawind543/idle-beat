/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["idle-beat"]=e():t.IdleBeat=e()}(this,(()=>(()=>{var t={124:(t,e,i)=>{var n=i(325);t.exports=function(){return n.Date.now()}},128:(t,e,i)=>{var n=i(800),r=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(r,""):t}},129:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CONFIG=void 0;var r=n(i(199)),o=i(224);Object.defineProperty(e,"DEFAULT_CONFIG",{enumerable:!0,get:function(){return o.DEFAULT_CONFIG}}),e.default=r.default},199:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t){if("object"!==n(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===n(o)?o:String(o)),r)}var o}var o,a,u,s,f,c,l,v,d,h,p,m,y,b,w,g=this&&this.__classPrivateFieldSet||function(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i},j=this&&this.__classPrivateFieldGet||function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)},T=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var x=T(i(221)),O=i(224),_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o.add(this),u.set(this,void 0),s.set(this,void 0),f.set(this,void 0),c.set(this,void 0),l.set(this,void 0),h.set(this,void 0),g(this,s,Object.assign(Object.assign({},O.DEFAULT_CONFIG),e),"f"),g(this,u,j(a,a,"m",v).call(a),"f"),g(this,f,{},"f"),g(this,c,-1,"f"),g(this,l,new Set,"f"),g(this,h,(0,x.default)(j(this,o,"m",d).bind(this),j(this,s,"f").debounce,{leading:!0}),"f"),this.restart()}var e,i;return e=t,(i=[{key:"restart",value:function(){var t=this;g(this,u,j(a,a,"m",v).call(a),"f"),j(this,o,"m",w).call(this),j(this,s,"f").events.forEach((function(e){document.removeEventListener(e,j(t,h,"f"),!0),document.addEventListener(e,j(t,h,"f"),!0)}))}},{key:"onIdle",value:function(t,e){var i,n="".concat(t);if(j(this,f,"f")[n]=null!==(i=j(this,f,"f")[n])&&void 0!==i?i:new Map,!j(this,f,"f")[n].has(e)){var r=j(this,o,"m",b).call(this,t);j(this,f,"f")[n].set(e,{timeoutId:j(this,o,"m",m).call(this,e,r,t)})}}},{key:"offIdle",value:function(t,e){var i,n,r,o=null===(i=j(this,f,"f")[t])||void 0===i?void 0:i.get(e);o&&(clearTimeout(null==o?void 0:o.timeoutId),null===(n=j(this,f,"f")[t])||void 0===n||n.delete(e)),0===(null===(r=j(this,f,"f")[t])||void 0===r?void 0:r.size)&&delete j(this,f,"f")[t]}},{key:"onBeat",value:function(t){j(this,l,"f").has(t)||j(this,l,"f").add(t)}},{key:"offBeat",value:function(t){j(this,l,"f").delete(t)}},{key:"state",get:function(){return Object.assign({},j(this,u,"f"))}},{key:"idleTime",get:function(){return+new Date-j(this,u,"f").lastActive}}])&&r(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();a=_,u=new WeakMap,s=new WeakMap,f=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,o=new WeakSet,v=function(){return{lastActive:+new Date,lastEvent:null}},d=function(t){g(this,u,{lastActive:+new Date,lastEvent:t},"f"),j(this,o,"m",w).call(this)},p=function(t,e){t(this.idleTime,e)},m=function(t,e,i){var n=this;return window.setTimeout((function(){return j(n,o,"m",p).call(n,t,i)}),e)},y=function(t){var e=this;j(this,l,"f").forEach((function(i){t===j(e,u,"f").lastActive&&i(e.idleTime)}))},b=function(t){return 1e3*t-this.idleTime},w=function(){var t=this;Object.keys(j(this,f,"f")).forEach((function(e){var i=j(t,f,"f")[e],n=+e;i.forEach((function(e,r){clearTimeout(e.timeoutId);var a=j(t,o,"m",b).call(t,n);i.set(r,{timeoutId:j(t,o,"m",m).call(t,r,a,n)})}))})),clearInterval(j(this,c,"f")),g(this,c,window.setInterval((function(){return j(t,o,"m",y).call(t,j(t,u,"f").lastActive)}),1e3*j(this,s,"f").beat),"f")},e.default=_},221:(t,e,i)=>{var n=i(805),r=i(124),o=i(374),a=Math.max,u=Math.min;t.exports=function(t,e,i){var s,f,c,l,v,d,h=0,p=!1,m=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var i=s,n=f;return s=f=void 0,h=e,l=t.apply(n,i)}function w(t){var i=t-d;return void 0===d||i>=e||i<0||m&&t-h>=c}function g(){var t=r();if(w(t))return j(t);v=setTimeout(g,function(t){var i=e-(t-d);return m?u(i,c-(t-h)):i}(t))}function j(t){return v=void 0,y&&s?b(t):(s=f=void 0,l)}function T(){var t=r(),i=w(t);if(s=arguments,f=this,d=t,i){if(void 0===v)return function(t){return h=t,v=setTimeout(g,e),p?b(t):l}(d);if(m)return clearTimeout(v),v=setTimeout(g,e),b(d)}return void 0===v&&(v=setTimeout(g,e)),l}return e=o(e)||0,n(i)&&(p=!!i.leading,c=(m="maxWait"in i)?a(o(i.maxWait)||0,e):c,y="trailing"in i?!!i.trailing:y),T.cancel=function(){void 0!==v&&clearTimeout(v),h=0,s=d=f=v=void 0},T.flush=function(){return void 0===v?l:j(r())},T}},224:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CONFIG=void 0,e.DEFAULT_CONFIG={events:["mousedown","mousemove","mouseup","scroll","touchstart","touchmove","touchend","keydown","keypress","change","orientationchange","resize","visibilitychange"],beat:5,debounce:500}},325:(t,e,i)=>{var n=i(840),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},374:(t,e,i)=>{var n=i(128),r=i(805),o=i(394),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=u.test(t);return i||s.test(t)?f(t.slice(2),i?2:8):a.test(t)?NaN:+t}},394:(t,e,i)=>{var n=i(552),r=i(346);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==n(t)}},552:(t,e,i)=>{var n=i(873),r=i(659),o=i(350),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):o(t)}},659:(t,e,i)=>{var n=i(873),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),i=t[u];try{t[u]=void 0;var n=!0}catch(t){}var r=a.call(t);return n&&(e?t[u]=i:delete t[u]),r}},800:t=>{var e=/\s/;t.exports=function(t){for(var i=t.length;i--&&e.test(t.charAt(i)););return i}},805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},840:(t,e,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;t.exports=n},873:(t,e,i)=>{var n=i(325).Symbol;t.exports=n}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i(129)})()));
//# sourceMappingURL=index.js.map