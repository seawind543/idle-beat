/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["idle-beat"]=t():e.IdleBeat=t()}(this,()=>(()=>{"use strict";var e={127:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(407)),a=i(n(279)),r=n(224);function u(e,t,n){var i=t(),o=i.target,a=i.activeEventName,r=i.idleEventName,u=new CustomEvent("active"===e?a:r,{detail:{state:n(),config:i},bubbles:!0});o.dispatchEvent(u)}function s(e,t){return["resize","orientationchange"].includes(e)?window:t}t.default=function(e){var t,n=structuredClone(r.DEFAULT_STATE),i=function(){return structuredClone(n)},c=function(e){n=structuredClone(e)},l=Object.assign(Object.assign({},r.DEFAULT_CONFIG),e),d=function(){return l},f=null,v=function(){var e=d().beat;null==t||t(),t=(0,o.default)(function(e,t,n){return function(){var i=Object.assign(Object.assign({},t()),{isIdle:!0});n(i),u("idle",e,t)}}(d,i,c),1e3*e)};return{getState:i,getConfig:d,setConfig:function(e){i().isBeating||Object.assign(d(),e)},start:function(){if(!i().isBeating){var e=d(),t=e.target,n=e.events;c(Object.assign(Object.assign({},i()),{lastActive:Date.now(),lastEventType:null,isIdle:!1,isBeating:!0})),f=function(e,t,n,i){return function(o){var r,s=null!==(r=null==o?void 0:o.type)&&void 0!==r?r:null;if("scroll"!==s||(0,a.default)(o)){var c=Object.assign(Object.assign({},t()),{isIdle:!1,lastActive:Date.now(),lastEventType:s});n(c),u("active",e,t),i()}}}(d,i,c,v),n.forEach(function(e){s(e,t).addEventListener(e,f,!0)}),v()}},stop:function(){var e=d(),n=e.target,o=e.events;c(Object.assign(Object.assign({},i()),{isBeating:!1,isIdle:!1})),null==t||t(),f&&o.forEach(function(e){s(e,n).removeEventListener(e,f,!0)})}}}},129:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=void 0;var o=i(n(127)),a=n(224);Object.defineProperty(t,"DEFAULT_CONFIG",{enumerable:!0,get:function(){return a.DEFAULT_CONFIG}}),t.default=o.default},224:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_STATE=void 0,t.DEFAULT_STATE={lastActive:0,lastEventType:null,isIdle:!1,isBeating:!1},t.DEFAULT_CONFIG={id:"default",idleEventName:"idle",activeEventName:"active",beat:10,target:document,events:["mousedown","mousemove","mouseup","click","scroll","touchstart","touchmove","touchend","keydown","keypress","change","visibilitychange","resize","orientationchange"]}},279:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=0;["wheel","touchstart","keydown"].forEach(function(e){window.addEventListener(e,function(){n=Date.now()},!0)}),t.default=function(e){return"scroll"===(null==e?void 0:e.type)&&Date.now()-n<200}},407:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Date.now(),i=null,o=function(){var a=Date.now();a-n>=t&&(e(a),n=Date.now()),i=requestAnimationFrame(o)};return i=requestAnimationFrame(o),function(){i&&cancelAnimationFrame(i)}}}},t={};return function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}(129)})());
//# sourceMappingURL=index.js.map